(function(t){function e(e){for(var a,i,r=e[0],l=e[1],u=e[2],v=0,f=[];v<r.length;v++)i=r[v],s[i]&&f.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var l=n[r];0!==s[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("64a9"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=(n("034f"),n("2877")),r={},l=Object(i["a"])(r,s,o,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,c=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("SVG-Based Placement Editor/Visualizer")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("vue-slider",{ref:"slider",attrs:{min:0,max:t.leaves_array.length-1,width:"960px",interval:.001,speed:0},model:{value:t.theta_timeline,callback:function(e){t.theta_timeline=e},expression:"theta_timeline"}})],1)]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-6"},[n("div",{staticClass:"load-save-buttons"},[n("button",{staticClass:"load-save-buttons",on:{click:t.getContent}},[t._v("Load")]),n("button",{staticClass:"load-save-buttons",on:{click:t.postContent}},[t._v("Save")]),n("label",{attrs:{for:"index"}},[t._v("Index:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.leaves_idx,expression:"leaves_idx"}],staticClass:"small-num",attrs:{id:"index"},domProps:{value:t.leaves_idx},on:{input:function(e){e.target.composing||(t.leaves_idx=e.target.value)}}}),n("button",{staticClass:"load-save-buttons",on:{click:t.animatePlacementChange}},[t._v("\n            Animate\n          ")]),n("span",[t._v(t._s(t.theta_rounded))]),n("button",{staticClass:"load-save-buttons",on:{click:t.resetPlacementChange}},[t._v("\n            Reset\n          ")])]),t._l(t.leaves,function(e,a){return n("div",{key:"i-"+a,staticClass:"value-tbl"},[n("span",{staticClass:"value-span"},[t._v(t._s(e.nm))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.w,expression:"c.w"}],domProps:{value:e.w},on:{input:function(n){n.target.composing||t.$set(e,"w",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.h,expression:"c.h"}],domProps:{value:e.h},on:{input:function(n){n.target.composing||t.$set(e,"h",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.transformation.oX,expression:"c.transformation.oX"}],domProps:{value:e.transformation.oX},on:{input:function(n){n.target.composing||t.$set(e.transformation,"oX",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.transformation.oY,expression:"c.transformation.oY"}],domProps:{value:e.transformation.oY},on:{input:function(n){n.target.composing||t.$set(e.transformation,"oY",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.transformation.sX,expression:"c.transformation.sX"}],domProps:{value:e.transformation.sX},on:{input:function(n){n.target.composing||t.$set(e.transformation,"sX",n.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.transformation.sY,expression:"c.transformation.sY"}],domProps:{value:e.transformation.sY},on:{input:function(n){n.target.composing||t.$set(e.transformation,"sY",n.target.value)}}})])})],2),n("div",{staticClass:"col-sm-5 col-sm-offset-1"},[n("svg",{attrs:{width:t.width,height:t.height},on:{mousemove:function(e){t.doMove(e)},mouseup:function(e){t.doEnd(e)}}},[n("g",{attrs:{transform:"matrix("+t.scale+" 0 0 "+-t.scale+" 0 "+t.height+")"}},[t._l(t.hgridlines,function(t,e){return n("g",{key:"h-"+e},[n("line",{attrs:{x1:t.x0,y1:t.cy,x2:t.x1,y2:t.cy,stroke:"black","stroke-dasharray":"10 4"}})])}),t._l(t.vgridlines,function(t,e){return n("g",{key:"v-"+e},[n("line",{attrs:{x1:t.cx,y1:t.y0,x2:t.cx,y2:t.y1,stroke:"black","stroke-dasharray":"10 4"}})])}),t._l(t.leaves,function(e,a){return n("g",{key:"d-"+a,attrs:{transform:"translate("+e.transformation.oX+" "+e.transformation.oY+") scale("+e.transformation.sX+" "+e.transformation.sY+")"},on:{mousedown:function(n){t.doStart(n,e,a,2)}}},[n("path",{attrs:{d:"M 0 0 h "+e.w+" v "+e.h+" h "+-e.w+" v "+-e.h,stroke:"black",fill:e.fill}}),n("g",{attrs:{transform:"matrix(1 0 0 -1 "+(e.w/2-96)+" "+(e.h/2+0)+")"}},[n("text",{staticStyle:{font:"48px sans-serif"},attrs:{x:0,y:80}},[t._v("\n                  "+t._s(e.nm)+"\n                ")]),n("g",{attrs:{transform:"matrix(0 -1 1 0 30 0)"}},[n("text",{staticStyle:{font:"36px sans-serif"},attrs:{x:0,y:0}},[t._v("\n                    "+t._s(e.hasOwnProperty("formal_actual_map")?e.formal_actual_map.d:"no_map")+"\n                  ")])]),n("g",{attrs:{transform:"matrix(0 -1 1 0 170 0)"}},[n("text",{staticStyle:{font:"36px sans-serif"},attrs:{x:0,y:0}},[t._v("\n                    "+t._s(e.hasOwnProperty("formal_actual_map")?e.formal_actual_map.s:"no_map")+"\n                  ")])])])])})],2)])])])])])},f=[],h=n("be94"),d=(n("84b4"),n("bc3a")),m=n.n(d),p=n("cffa"),g=n("6f79"),_=n.n(g),x={components:{vueSlider:_.a},data:function(){var t,e=640,n=640,a=200,s=480,o=3,i=6;return t=s*o*e>a*i*n?n/(o*s):e/(i*a),{width:e,height:n,scale:t,stepx:a,stepy:s,ny:o,nx:i,moving:!1,moving_idx:void 0,code:void 0,offx:void 0,offy:void 0,leaves_array:[],hgridlines:[],vgridlines:[],errors:[],leaves_idx:0,theta:0,theta_percent:0}},created:function(){console.log("Running created..."),this.leaves_array=[],this.leaves_array.push([]);for(var t=["ref","1a","1b","2","4"],e=0;e<5;e+=1)this.leaves_array[0].push({w:4*this.stepx,h:1*this.stepy,transformation:{oX:8*this.stepx,oY:(2*e+4)*this.stepy,sX:1,sY:1},fill:"#ffe0e0",nm:t[e]});this.leaves_array.push(this.leaves_array[0]);for(var n=0;n<=this.ny;n+=1)this.hgridlines.push({cy:this.stepy*n,x0:0,x1:this.stepx*this.nx});for(var a=0;a<=this.nx;a+=1)this.vgridlines.push({cx:this.stepx*a,y0:0,y1:this.stepy*this.ny})},computed:{theta_timeline:{get:function(){return this.theta+this.leaves_idx},set:function(t){this.leaves_idx=Math.trunc(t),this.theta=t-this.leaves_idx}},leaves_idx_next:function(){return this.leaves_idx+1},theta_rounded:function(){return this.theta.toFixed(3)},leaves:function(){var t=this.leaves_array[this.leaves_idx];if(0==this.theta)return t;for(var e=t.map(function(t){return Object(h["a"])({},t)}),n=this.leaves_array[this.leaves_idx_next],a=0;a<t.length;a+=1){var s=Object(h["a"])({},e[a].transformation),o=t[a].transformation,i=n[a].transformation,r=this.theta,l=1-this.theta;s.oX=l*o.oX+r*i.oX,s.oY=l*o.oY+r*i.oY,s.sX=l*o.sX+r*i.sX,s.sY=l*o.sY+r*i.sY,e[a].transformation=s}return e}},methods:{resetPlacementChange:function(){this.theta=0,this.leaves_idx=0},animatePlacementChange:function(){var t=p["b"].easeInOut,e=1,n=new p["c"];console.log(this.leaves_array.length);for(var a=0;a<this.leaves_array.length-1;a+=1)console.log("Setting up:",a),n.set(this,{theta:0,leaves_idx:a,leaves_idx_next:a+1}),n.to(this,e,{theta:1,ease:t})},getContent:function(){var t=this;m.a.get("http://localhost:5000/get").then(function(e){t.leaves_array=e["data"]}).catch(function(e){t.errors.push(e)})},postContent:function(){var t=this;m.a.post("http://localhost:5000/post",this.leaves_array,{headers:{"Content-Type":"application/json"}}).then(function(t){console.log("Saved: ",t)}).catch(function(e){t.errors.push(e)})},roundNearestGridX:function(t){return Math.round(t/this.stepx)*this.stepx},roundNearestGridY:function(t){return Math.round(t/this.stepy)*this.stepy},getEventX:function(t){return t.offsetX/this.scale},getEventY:function(t){return(this.height-t.offsetY)/this.scale},doMove:function(t){if(this.moving){var e=this.leaves[this.moving_idx];2==this.code&&(e.transformation.oX=this.getEventX(t)-this.offx,e.transformation.oY=this.getEventY(t)-this.offy)}},doKeyup:function(t){console.log("event",t)},doStart:function(t,e,n,a){console.log("Start: ",t,e,n,a),this.code=a,this.moving=!0,this.moving_idx=n;var s=this.leaves[this.moving_idx];this.offx=this.getEventX(t)-s.transformation.oX,this.offy=this.getEventY(t)-s.transformation.oY},doEnd:function(){if(this.moving){var t=p["a"].easeOut.config(1,.3),e=.5,n=this.leaves[this.moving_idx];if(2==this.code){var a=this.roundNearestGridX(n.transformation.oX),s=this.roundNearestGridY(n.transformation.oY);p["d"].to(n.transformation,e,{oX:a,oY:s,ease:t})}this.moving=!1,this.moving_idx=void 0,this.code=void 0,this.offset=void 0}}}},y=x,b=(n("6b3d"),Object(i["a"])(y,v,f,!1,null,"2957619a",null));b.options.__file="EditSVG.vue";var w=b.exports;a["a"].use(c["a"]);var X=new c["a"]({mode:"history",base:"/",routes:[{path:"/",name:"edit-svg",component:w}]}),Y=n("2f62");a["a"].use(Y["a"]);var C=new Y["a"].Store({state:{},mutations:{},actions:{}});n("ab8b");a["a"].config.productionTip=!1,new a["a"]({router:X,store:C,render:function(t){return t(u)}}).$mount("#app")},"64a9":function(t,e,n){},"6b3d":function(t,e,n){"use strict";var a=n("9437"),s=n.n(a);s.a},9437:function(t,e,n){}});
//# sourceMappingURL=app.969eab13.js.map